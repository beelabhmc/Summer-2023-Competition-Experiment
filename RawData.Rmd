---
title: "Raw Data"
author: "Marissa Douglas"
date: "2023-07-12"
output: pdf_document
---

Load Packages
```{r}
library(tidyverse)
library(ggplot2)
```

Load the CSV

```{r}
ants <- read_csv("Competition experiment data - Tidy Census.csv")
```
Make a graph for each colony (4 graphs). Group them by date (this will sort control vs treatment... should we add a column of this to the CSV?). Make a histogram of the count (workers + soldiers + queens) of ants in each nest. For each bar, the aesthetic should display worker count on the bottom and soldier count on the top. Add a symbol for the presence of queens or brood.

Let's make 399's tibble
```{r}
#make a tibble of the colony's nests
pw399 <- ants %>% 
  filter(`Colony Name` == "PW399", Nest != "dead", Nest != "outside")

#add a column of the total count
pw399 <- pw399 %>% 
  mutate(count = Workers + Soldiers + Queen)
```

Let's graph 399. I think I need to make vectors to use a histogram. A bar plot may offer better functionality
```{r}
#histogram attempt
# pw399 %>% select(Workers) %>% 
#   ggplot() + 
#   geom_histogram(mapping = aes(x = "Nest")) +
#   xlab("Number of Ants Per Nest")

#bar plot attempt
#https://statisticsglobe.com/draw-grouped-barplot-in-r
#Grouped barplot using ggplot2
#Should compare the two dates in pairs, once that data is collected. I do not know how to make the bars show soldier vs worker. I do not know how to make the key specify which is control and which is competitor. 
pw399 %>% ggplot(                                      
       aes(x = Nest,
           y = count,
           fill = Date)) +
  geom_bar(stat = "identity",
           position = "dodge")
```


