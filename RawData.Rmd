---
title: "Raw Data"
author: "Marissa Douglas"
date: "2023-07-12"
output: pdf_document
---

Load Packages
```{r}
library(tidyverse)
library(ggplot2)
```

Load the CSV

```{r}
ants <- read_csv("Competition experiment data - Tidy Census.csv")
```
Make a graph for each colony (4 graphs). Group them by date (this will sort control vs treatment... should we add a column of this to the CSV?). Make a histogram of the count (workers + soldiers + queens) of ants in each nest. For each bar, the aesthetic should display worker count on the bottom and soldier count on the top. Add a symbol for the presence of queens or brood.

Let's make 399's tibble
```{r}
#make a tibble of the colony's nests
pw399 <- ants %>% 
  filter(`Colony Name` == "PW399", Nest != "dead", Nest != "outside")
```

Let's graph 399. I think I need to make vectors to use a histogram. A bar plot may offer better functionality
```{r}
#bar plot attempt
#https://statisticsglobe.com/draw-grouped-barplot-in-r
#Grouped barplot using ggplot2
#Should compare the two dates in pairs, once that data is collected. I do not know how to make the bars show soldier vs worker. I do not know how to make the key specify which is control and which is competitor. 

pw399 %>% ggplot(                                      
       aes(x = Nest,
           y = Count,
           fill = Type)) +
  geom_bar(stat = "identity",
           position = "dodge")
```

Stacking attempt. Need different data. Example: 
```{r}
#example from https://r-graph-gallery.com/48-grouped-barplot-with-ggplot2\

# create a dataset
specie <- c(rep("sorgho" , 3) , rep("poacee" , 3) , rep("banana" , 3) , rep("triticum" , 3) )
condition <- rep(c("normal" , "stress" , "Nitrogen") , 4)
value <- abs(rnorm(12 , 0 , 15))
data <- data.frame(specie,condition,value)
 
# Stacked
ggplot(data, aes(fill=condition, y=value, x=specie)) + 
    geom_bar(position="stack", stat="identity")

```



```{r}
#my attempt:
#TODO
# create a dataset
specie <- c(rep("sorgho" , 3) , rep("poacee" , 3) , rep("banana" , 3) , rep("triticum" , 3) )
condition <- rep(c("normal" , "stress" , "Nitrogen") , 4)
value <- abs(rnorm(12 , 0 , 15))
data <- data.frame(specie,condition,value)
 
# Stacked
ggplot(data, aes(fill=caste, y=value, x=specie)) + 
    geom_bar(position="stack", stat="identity")
```


